digraph G {
    node [shape = record]
    PARAM [label="parametrit"]
    COM [label="kommunikointi"]
    MANS [label="käsiohjaus"]
    AUTS [label="automaattiohjaus"]
    ESP [label="ajonvakautus"]
    SAF [label="turvajärjestelmä"]
    LOC [label="paikka- / nopeustieto"]
    ACC [label="kiihtyvyysanturi"]
    GYRO [label="gyroanturi"]
    ENC [label="enkooderit"]
    DIST [label="etäisyysmittaus"]
    BATT [label="jännitevahti"]
    LED [label="valot"]
    BRK [label="jarrut"]
    TML [label="vasen moottori"]
    TMR [label="oikea moottori"]
    TC [label="moottoreiden ohjaus"]
    DRV [label="ohjauspyynnöt"]
    STEER [label="ohjaus"]
    BATT1 [label="akkujännite #1"]
    BATT2 [label="akkujännite #2"]
    
    LOC -> ESP [color= blue]
    GYRO -> LOC [color= blue]
    ACC -> LOC [color= blue]
    ENC -> LOC [color= blue]
    SAF -> ABS [color = red]
    ESP -> SAF [color = blue]
    MANS -> DRV [color = blue]
    AUTS -> DRV [color = blue]
    DIST -> SAF [color= blue]
    DRV -> LED [color = red]
    SAF -> LED [color = red]
    SAF -> TC [color = red]
    TC -> TML [color = red]
    TC -> TMR [color = red]
    ABS -> BRK [color = red]
    DRV -> ESP  [color= blue]
    DRV -> STEER [color = red]
    DIST -> LOC [color= blue]
    ENC -> ABS [color= blue]
    LOC -> AUTS  [color= blue]
    BATT1 -> BATT [color= blue]
    BATT2 -> BATT [color= blue]
    BATT -> SAF [color= blue]
    
    {rank=same; GYRO ACC ENC DIST BATT1 BATT2}
    {rank=same; LED BRK TML TMR STEER}
    {rank=same; LOC}
    {rank=same; MANS AUTS}
    {rank=source; COM PARAM}
}
