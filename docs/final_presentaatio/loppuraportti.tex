\documentclass[first=orange,second=purple,logo=elec]{aaltoslides}
%\documentclass{aaltoslides} % DEFAULT
%\documentclass[first=purple,second=lgreen,logo=redque,normaltitle,nofoot]{aaltoslides} % SOME OPTION EXAMPLES

\usepackage[latin9]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{amssymb,amsmath}
\usepackage{url}
\usepackage[finnish]{babel}
\usepackage{lastpage}

\title{Loppuraportti: A13-10 Radio-ohjattavan pienoismallin ohjausjärjestelmän ja käyttöliittymän kehittäminen}

\author{
Toni Liski, Konsta Hölttä, Lasse Kortetjärvi
}

\institute{AS-0.3200 Automaatio- ja systeemitekniikan projektityöt}

\aaltofootertext{Loppuraportti}{\today}{\insertframenumber/\inserttotalframenumber}


\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\aaltotitleframe

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}{Auto}
\centering
\includegraphics[width=0.9\textwidth]{autoprojekti.png}
\end{frame}

\begin{frame}{Auto}
\begin{itemize}
\item Akku oli liian pieni
\item Voimansiirtoa uusitaan
\item Hitautta servoissa
\item Heikkouksia nopeusmittauksessa
\item Ruuvit tiukassa
\item Servoihin ajateltu jännitesäätöä
\end{itemize}
\end{frame}

\begin{frame}{Koodi}
\begin{itemize}
\item Alkuperäinen koodi proof-of-concept-tasoista
\item Tutkittu, siistitty, uudelleenkirjoitettu
\item Tavoitteena helppo jatkokehitysympäristö
\item Sekä tietysti varsinainen käyttö, vakaa toiminta
\end{itemize}
\end{frame}

\begin{frame}{Aikataulu}
\begin{itemize}
\item Jäljessä
\item Tilausten kanssa viivettä
\item Refaktoroinnissa on työtä
\item Automaattihifistelyjä ei voi testata ajamatta
\item Suunnitelman hienoimmat ominaisuudet tuskin toteutuvat
\end{itemize}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}{ABS- ja ESC -järjestelmät}
\begin{itemize}
\item Alkuperäinen tavoite ABS- ja ESC toimintojen jatkokehittäminen
    \begin{itemize}
        \item Jatkokehittäminen olisi vaatinut RC-autolla ajettavia testejä
    \end{itemize}
\item Alunperin epäilty ohjelmiston hitaus testattiin ja siitä ei löytynyt vikaa
\end{itemize}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}{ABS- järjestelmä}
\begin{itemize}
\item Alkuperäinen säätö perustui pelkästään renkaiden kiihtyvyyksien tarkasteluun
\item Muutettiin niin että myös renkaan luistoprosentti vaikuttaa säätöön
\item Lisäksi $\mu$-split jarrutus otettiin huomioon
\item Pyörintänopeusmittausten näytteenottotaajuutta kasvatettiin
\end{itemize}
\includegraphics[scale=0.2]{tyreData}
\end{frame}

\begin{frame}{ESC- järjestelmä}
\begin{itemize}
\item Säätöalgoritmia vanhasta ei muutettu
\item Mitataan auton yaw-ratea ja sivuttaiskiihtyvyyttä
\item Jos  poikkeaa kuljettajan pyynnöstä niin korjataan jarruttamalla vastamomentin tuottavaa rengasta
\item 
\end{itemize}
\includegraphics[scale=0.3]{understeer-oversteer}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}{Käyttöliittymä}
\begin{itemize}
\item Käyttöliittymäkoodia jaettu modulaarisemmaksi
\item Protokollamäärittelyt joustavampia
\item 80-90\% koodista kirjoitettu uudestaan
\item Jatkokehitys helpompaa
\item Otettu Kalman-filtteri käyttöön
\item Yksi 2000-rivinen tiedosto $\Rightarrow$ parikymmentä pienempää
\end{itemize}
\end{frame}

\begin{frame}{Käyttöliittymä}
\centering
\includegraphics[width=0.5\textwidth]{demomode.png}
\end{frame}

\begin{frame}{Käyttöliittymä}
\centering
\includegraphics[width=0.9\textwidth]{gui1.png}
\end{frame}

\begin{frame}{Käyttöliittymä}
\centering
\includegraphics[width=0.9\textwidth]{gui1.png}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}{Mikrokontrollerit; varsinainen ohjaus}
\begin{itemize}
\item Enemmän koodia, tosin paljon selkeämpää
\item Vielä hiottavaa
\item Auto ei kulje edelleenkään: hardisongelmia, ei riipu ohjauksesta
\item Koodi käytännössä uusittu kokonaan
\item Paremmin strukturoitua, porttautuvaa
\item Voi kääntää matlabin mex-funktioksi
\item Alun perin kolme tiedostoa (yksi per kontrolleri)
\item Nyt parikymmentä
\end{itemize}
\end{frame}

\begin{frame}{Mikrokontrollerit}
\begin{itemize}
\item Kytkentöjen takia edelleen kaikki kolme kontrolleria käytössä
\item PC $\Leftrightarrow$ ohjaus $\Leftrightarrow$ jarrut $\Leftrightarrow$ enkooderit
\item Yhteistä kommunikaatiokoodia, pakettipohjainen protokolla
\item Alkuperäinen copypasta korvattu geneerisemmällä koodilla
\item Ei juurikaan ota kantaa instrumentoinnin kytkentöihin
\item Synkronointi?
\end{itemize}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\end{document}
